<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>RT-BOOT Web恢复终端</title>
<link rel="stylesheet" href="/style.css" type="text/css" />
<script type="text/javascript" src="/ajax.js"></script>
</head>

<body>
	<div id="container">
		<div id="bootloader_console">
			RT-BOOT Web恢复终端
		</div>
		<div id="nav">
			<ul id="navbar"></ul>
		</div>
		<div id="page">
	<table class="system_info">
	<tr>
		<td class="th">CPU</td>
		<td id="soc_info">Fetching...</td>
	</tr>
	<tr class="g">
		<td class="th">Flash</td>
		<td id="flash_info">Fetching...</td>
	</tr>
	<tr class="g">
		<td class="th">内存</td>
		<td id="ram_info">Fetching...</td>
	</tr>
	<tr class="g">
		<td class="th">以太网</td>
		<td id="eth_info">Fetching...</td>
	</tr>
	<tr>
		<td class="th">时钟频率</td>
		<td id="clock_info">Fetching...</td>
	</tr>
	<tr class="ed">
		<td class="th">版本</td>
		<td id="version_info">Fetching...</td>
	</tr>
	<script type="text/javascript">
		var soc_info_ele = document.getElementById("soc_info");
		var flash_info_ele = document.getElementById("flash_info");
		var ram_info_ele = document.getElementById("ram_info");
		var eth_info_ele = document.getElementById("eth_info");
		var clock_info_ele = document.getElementById("clock_info");
		var verison_info_ele = document.getElementById("version_info");
		function fetch_info(url)
		{
			var info_data = RequestURL(url);
			if (info_data == "CE") {
                return "通信错误";
            }
            if (status == "BE") {
                return "浏览器不支持 Ajax!";
            }
            if (status == "SE") {
                return "RT-BOOT 内部错误!";
            }
			return info_data;
		}
		soc_info_ele.innerHTML = fetch_info("/cgi/soc_info.html");
        flash_info_ele.innerHTML = fetch_info("/cgi/flash_info.html");
		ram_info_ele.innerHTML = fetch_info("/cgi/ram_info.html");
		eth_info_ele.innerHTML = fetch_info("/cgi/eth_info.html");
		clock_info_ele.innerHTML = fetch_info("/cgi/clock_info.html");
		verison_info_ele.innerHTML = fetch_info("/cgi/version_info.html");
	</script>
	</table>
		</div>
		<div class="clearfloat"> </div>
	</div>
	<script type="text/javascript">
		var nav_str = "/index.html|系统信息,/upgrade.html|固件更新,/about.html|关于";
		var nav_page = "/index.html";
		var nav_list = nav_str.split(",");
		var navbar = document.getElementById("navbar");

		for (var i = 0; i < nav_list.length; i++) {
			if (!nav_list[i].indexOf("|"))
				continue;

			var nav_val = nav_list[i].split("|");

			var li = document.createElement("li");
			if (nav_page == nav_val[0]) {
				li.className = "current_nav";
				li.appendChild(document.createTextNode(nav_val[1]));
			} else {
				var a = document.createElement("a");
				a.appendChild(document.createTextNode(nav_val[1]));
				a.setAttribute("href", nav_val[0]);
				li.appendChild(a);
			}

			navbar.appendChild(li);
		}
	</script>
</body>
</html>
